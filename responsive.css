/* ==========================================
   ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³
   ========================================== */

/* ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆï¼ˆ768pxä»¥ä¸‹ï¼‰ */
@media (max-width: 768px) {
    .app-header {
        flex-direction: column;
        gap: var(--spacing-md);
        padding: var(--spacing-sm);
    }
    
    .header-left {
        width: 100%;
        flex-direction: column;
        align-items: flex-start;
        gap: var(--spacing-sm);
    }
    
    .app-title {
        font-size: 18px;
    }
    
    .header-controls {
        width: 100%;
        justify-content: space-between;
    }
    
    .header-controls .btn {
        flex: 1;
        font-size: 12px;
        padding: var(--spacing-sm);
    }
    
    /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼šã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤å¼ã«å¤‰æ›´ */
    .sidebar {
        position: fixed;
        left: -280px;
        top: 0;
        bottom: 0;
        z-index: 999;
        transition: left var(--transition-normal);
        box-shadow: var(--shadow-large);
    }
    
    .sidebar.open {
        left: 0;
    }
    
    /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ãƒˆã‚°ãƒ«ãƒœã‚¿ãƒ³ */
    body::before {
        content: 'ğŸ“';
        position: fixed;
        left: var(--spacing-sm);
        top: 70px;
        width: 44px;
        height: 44px;
        background: var(--color-primary);
        color: white;
        border-radius: var(--radius-medium);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 20px;
        cursor: pointer;
        z-index: 998;
        box-shadow: var(--shadow-medium);
    }
    
    /* ã‚¨ãƒ•ã‚§ã‚¯ãƒˆãƒ‘ãƒãƒ«ï¼šã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤å¼ã«å¤‰æ›´ */
    .effects-panel {
        position: fixed;
        right: -320px;
        top: 0;
        bottom: 0;
        z-index: 999;
        transition: right var(--transition-normal);
    }
    
    .effects-panel.open {
        right: 0;
    }
    
    /* ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒŠ */
    .timeline-container {
        width: 100%;
    }
    
    .transport-controls {
        flex-wrap: wrap;
        gap: var(--spacing-sm);
    }
    
    .transport-btn {
        width: 36px;
        height: 36px;
        font-size: 16px;
    }
    
    .time-display {
        flex: 1;
        min-width: 150px;
        font-size: 12px;
    }
    
    .zoom-controls {
        margin-left: 0;
        width: 100%;
        justify-content: stretch;
    }
    
    .zoom-controls .btn {
        flex: 1;
    }
    
    /* ãƒˆãƒ©ãƒƒã‚¯ */
    .track-header-column {
        width: 120px;
        font-size: 13px;
        padding: var(--spacing-sm);
    }
    
    .track-header {
        width: 120px;
        padding: var(--spacing-sm);
    }
    
    .track-name {
        font-size: 12px;
    }
    
    .track-controls {
        flex-direction: column;
    }
    
    /* ãƒ¢ãƒ¼ãƒ€ãƒ« */
    .modal-content {
        width: 95%;
        max-height: 90vh;
    }
    
    .modal-header {
        padding: var(--spacing-md);
    }
    
    .modal-header h2 {
        font-size: 16px;
    }
    
    .modal-body {
        padding: var(--spacing-md);
    }
    
    /* ãƒ•ã‚¡ã‚¤ãƒ«ã‚¿ãƒ– */
    .file-tabs {
        overflow-x: auto;
    }
    
    .tab-btn {
        font-size: 11px;
        padding: var(--spacing-xs) var(--spacing-sm);
        white-space: nowrap;
    }
}

/* ã‚¹ãƒãƒ›ï¼ˆ480pxä»¥ä¸‹ï¼‰ */
@media (max-width: 480px) {
    .app-title {
        font-size: 16px;
    }
    
    .header-controls .btn {
        font-size: 11px;
        padding: var(--spacing-xs) var(--spacing-sm);
    }
    
    .btn-text {
        display: none;
    }
    
    .transport-btn {
        width: 32px;
        height: 32px;
        font-size: 14px;
    }
    
    .time-display {
        font-size: 11px;
        padding: var(--spacing-xs) var(--spacing-sm);
    }
    
    .track-header-column {
        width: 100px;
    }
    
    .track-header {
        width: 100px;
        padding: var(--spacing-xs);
    }
    
    .track-name {
        font-size: 11px;
        padding: 2px 4px;
    }
    
    .track-btn {
        font-size: 11px;
    }
    
    .track-clip {
        height: 50px;
    }
    
    .clip-name {
        font-size: 10px;
    }
    
    /* ã‚¨ãƒ•ã‚§ã‚¯ãƒˆãƒ‘ãƒãƒ«ï¼šå…¨ç”»é¢è¡¨ç¤º */
    .effects-panel {
        width: 100%;
        right: -100%;
    }
    
    .effect-section {
        padding: var(--spacing-sm);
    }
    
    .effect-section h3 {
        font-size: 13px;
    }
    
    /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ï¼šå¹…ã‚’ç¸®å° */
    .sidebar {
        width: 240px;
        left: -240px;
    }
    
    .file-item {
        padding: var(--spacing-xs) var(--spacing-sm);
    }
    
    .file-item-name {
        font-size: 12px;
    }
    
    .file-item-duration {
        font-size: 10px;
    }
}

/* æ¨ªå‘ãã‚¹ãƒãƒ›å¯¾å¿œ */
@media (max-width: 768px) and (orientation: landscape) {
    .transport-controls {
        padding: var(--spacing-sm);
    }
    
    .track {
        min-height: 60px;
    }
    
    .track-content {
        min-height: 60px;
    }
    
    .track-clip {
        height: 45px;
    }
}

/* ã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹ç”¨ã®æ‹¡å¤§èª¿æ•´ */
@media (hover: none) and (pointer: coarse) {
    .transport-btn {
        min-width: 44px;
        min-height: 44px;
    }
    
    .btn {
        min-height: 38px;
    }
    
    .track-btn {
        min-width: 32px;
        min-height: 32px;
    }
    
    .tab-btn {
        min-height: 40px;
    }
    
    .file-item {
        min-height: 48px;
    }
    
    /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ãƒãƒ¼ã‚’ã‚¿ãƒƒãƒãƒ‡ãƒã‚¤ã‚¹ç”¨ã«èª¿æ•´ */
    ::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }
    
    ::-webkit-scrollbar-thumb {
        background: var(--color-accent-dark);
    }
}

/* å¤§ç”»é¢å¯¾å¿œï¼ˆ1920pxä»¥ä¸Šï¼‰ */
@media (min-width: 1920px) {
    .sidebar {
        width: 340px;
    }
    
    .track-header-column {
        width: 240px;
    }
    
    .track-header {
        width: 240px;
    }
    
    .effects-panel {
        width: 380px;
    }
    
    .app-title {
        font-size: 24px;
    }
    
    .modal-content {
        max-width: 800px;
    }
}

/* ãƒ—ãƒªãƒ³ãƒˆå¯¾å¿œ */
@media print {
    .app-header,
    .sidebar,
    .effects-panel,
    .transport-controls,
    .track-actions,
    .modal {
        display: none !important;
    }
    
    .timeline-container {
        width: 100%;
    }
    
    body {
        background: white;
    }
}

/* ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œï¼ˆå°†æ¥ã®æ‹¡å¼µç”¨ï¼‰ */
@media (prefers-color-scheme: dark) {
    /* å¿…è¦ã«å¿œã˜ã¦ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰ã®è‰²ã‚’å®šç¾© */
    /* ç¾åœ¨ã¯æ˜ã‚‹ã„ãƒ†ãƒ¼ãƒã®ã¿ */
}

/* ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ï¼šãƒ¢ãƒ¼ã‚·ãƒ§ãƒ³å‰Šæ¸› */
@media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* ãƒã‚¤ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ */
@media (prefers-contrast: high) {
    .btn,
    .track-clip,
    .file-item {
        border-width: 3px;
    }
    
    .track,
    .modal-content,
    .sidebar,
    .effects-panel {
        border-width: 3px;
    }
}
